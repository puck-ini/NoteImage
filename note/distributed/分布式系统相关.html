<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>分布式系统相关 | zchzh的博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="怎么还有😇">
    
    <link rel="preload" href="/blog/assets/css/0.styles.8bcee675.css" as="style"><link rel="preload" href="/blog/assets/js/app.71c4317d.js" as="script"><link rel="preload" href="/blog/assets/js/2.0274c0be.js" as="script"><link rel="preload" href="/blog/assets/js/19.129f344f.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.994c3763.js"><link rel="prefetch" href="/blog/assets/js/11.5e5b0273.js"><link rel="prefetch" href="/blog/assets/js/12.e54d9625.js"><link rel="prefetch" href="/blog/assets/js/13.296268ee.js"><link rel="prefetch" href="/blog/assets/js/14.c4045223.js"><link rel="prefetch" href="/blog/assets/js/15.8755b1f4.js"><link rel="prefetch" href="/blog/assets/js/16.6165b9f2.js"><link rel="prefetch" href="/blog/assets/js/17.172ee54c.js"><link rel="prefetch" href="/blog/assets/js/18.89a02985.js"><link rel="prefetch" href="/blog/assets/js/20.88b796fc.js"><link rel="prefetch" href="/blog/assets/js/21.7885e01b.js"><link rel="prefetch" href="/blog/assets/js/22.879b8fbd.js"><link rel="prefetch" href="/blog/assets/js/23.3c7e1ecd.js"><link rel="prefetch" href="/blog/assets/js/24.9600277f.js"><link rel="prefetch" href="/blog/assets/js/25.b4281fa3.js"><link rel="prefetch" href="/blog/assets/js/26.7a471117.js"><link rel="prefetch" href="/blog/assets/js/27.abb64dbe.js"><link rel="prefetch" href="/blog/assets/js/28.09c63d2a.js"><link rel="prefetch" href="/blog/assets/js/29.bc7421eb.js"><link rel="prefetch" href="/blog/assets/js/3.6cdf44ae.js"><link rel="prefetch" href="/blog/assets/js/30.e247c767.js"><link rel="prefetch" href="/blog/assets/js/31.515116a7.js"><link rel="prefetch" href="/blog/assets/js/32.f99821b3.js"><link rel="prefetch" href="/blog/assets/js/33.3d91c266.js"><link rel="prefetch" href="/blog/assets/js/34.c3ce5b32.js"><link rel="prefetch" href="/blog/assets/js/35.1753cfb7.js"><link rel="prefetch" href="/blog/assets/js/36.7a7fd6b9.js"><link rel="prefetch" href="/blog/assets/js/37.3921482e.js"><link rel="prefetch" href="/blog/assets/js/38.de701795.js"><link rel="prefetch" href="/blog/assets/js/39.5966dec3.js"><link rel="prefetch" href="/blog/assets/js/4.08b29c11.js"><link rel="prefetch" href="/blog/assets/js/40.ba877efb.js"><link rel="prefetch" href="/blog/assets/js/41.cda00637.js"><link rel="prefetch" href="/blog/assets/js/42.bdf3ef35.js"><link rel="prefetch" href="/blog/assets/js/43.7cf566db.js"><link rel="prefetch" href="/blog/assets/js/44.da9b2480.js"><link rel="prefetch" href="/blog/assets/js/45.06749268.js"><link rel="prefetch" href="/blog/assets/js/46.e077e5c2.js"><link rel="prefetch" href="/blog/assets/js/47.3e398dbb.js"><link rel="prefetch" href="/blog/assets/js/48.b0962784.js"><link rel="prefetch" href="/blog/assets/js/49.6082052a.js"><link rel="prefetch" href="/blog/assets/js/5.5cb292f8.js"><link rel="prefetch" href="/blog/assets/js/50.0cab76ac.js"><link rel="prefetch" href="/blog/assets/js/51.21a3f87c.js"><link rel="prefetch" href="/blog/assets/js/52.31499aa9.js"><link rel="prefetch" href="/blog/assets/js/53.b8f8834c.js"><link rel="prefetch" href="/blog/assets/js/54.dc4e8469.js"><link rel="prefetch" href="/blog/assets/js/6.0f60e96d.js"><link rel="prefetch" href="/blog/assets/js/7.54c8285c.js"><link rel="prefetch" href="/blog/assets/js/8.28e502e5.js"><link rel="prefetch" href="/blog/assets/js/9.89ebce13.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.8bcee675.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">zchzh的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/blog/note/" class="nav-link router-link-active">
  笔记
</a></div><div class="nav-item"><a href="/blog/interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><a href="/blog/share/" class="nav-link">
  分享
</a></div><div class="nav-item"><a href="/blog/other/" class="nav-link">
  其他
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow down"></span></button> <button type="button" aria-label="GitHub" class="mobile-dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/puck-ini" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://puck-ini.github.io/blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/blog/note/" class="nav-link router-link-active">
  笔记
</a></div><div class="nav-item"><a href="/blog/interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><a href="/blog/share/" class="nav-link">
  分享
</a></div><div class="nav-item"><a href="/blog/other/" class="nav-link">
  其他
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow down"></span></button> <button type="button" aria-label="GitHub" class="mobile-dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/puck-ini" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://puck-ini.github.io/blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>java笔记</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/note/java/java.html" class="sidebar-link">java</a></li><li><a href="/blog/note/java/java Future.html" class="sidebar-link">Future 接口</a></li><li><a href="/blog/note/java/锁类型.html" class="sidebar-link">锁类型</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>springboot</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>redis笔记</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>zookeeper</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="分布式系统相关"><a href="#分布式系统相关" class="header-anchor">#</a> 分布式系统相关</h1> <h2 id="cap、acid、base"><a href="#cap、acid、base" class="header-anchor">#</a> CAP、ACID、BASE</h2> <p>CAP是分布式系统设计中的经典理论，他强调数据的强一致性，忽略网络中的延迟导致的不一致性的问题。</p> <p>ACID是事务的基本特征。</p> <p>BASE理论则是对CAP理论的一个延伸和平衡，实际中，网络的延迟的问题是无法避免的。他也和ACID强调的强一致性模型不同，允许数据在一段时间内的不一致，但是最终达到一致性的状态。</p> <h3 id="cap"><a href="#cap" class="header-anchor">#</a> CAP</h3> <p>与 ACID 以及 BASE 的关系</p> <p><strong>C一致性</strong>：写操作之后的读操作，必须返回该值。</p> <p><strong>A可用性</strong>：意思是只要收到用户的请求，服务器就必须给出回应。</p> <p><strong>P分区容错性</strong>：大多数分布式系统都分布在多个子网络。每个子网络就叫做一个区（partition）。分区容错的意思是，区间通信可能失败。比如，一台服务器放在中国，另一台服务器放在美国，这就是两个区，它们之间可能无法通信。</p> <h3 id="acid"><a href="#acid" class="header-anchor">#</a> ACID</h3> <p><strong>A原子性</strong>：原子性很好理解，在事务的执行过程中，要么全部执行成功，要么就都不执行，如果有一个失败，其他执行成功的操作都需要回滚。</p> <p><strong>C一致性</strong>：一致性的说法其实有点难以理解，他指的是事务在执行前后，不能破坏数据的完整性。一致性更多的说的是通过AID来达到目的，数据应该符合预先的定义和约束，由应用层面来保证。</p> <p><strong>I隔离性</strong>：多个事务之间是互相隔离的，事务之间不能互相干扰，这也就涉及到隔离级别的问题，不过这个问题不在这篇文章的话题之内。</p> <p><strong>D持久性</strong>：一旦事务提交，数据库中数据的状态就应该是永久性的。即便数据库宕机、崩溃，重启之后数据都应该恢复到之前的状态。</p> <blockquote><p>关系型数据库，例如 MySQL、Oracle、PostgreSQL</p></blockquote> <h3 id="base"><a href="#base" class="header-anchor">#</a> BASE</h3> <p><strong>BA基本可用</strong>：基本可用指的是在分布式系统出现故障时，允许损失部分可用性。</p> <p>举个例子来说，在下单的场景，一般都会出现一些搭售的商品，如果搭售的系统出现问题，那么为了保证整个下单的核心可用，可以暂时降级掉搭售的功能。</p> <p>又或者在双11的时候很多用户都应该体验过，流量激增的时候，为了保证系统的可用性，有一些用户被引导至一个降级的提示页面。</p> <p><strong>S软状态</strong>：软状态也被称为弱状态，他指的是允许系统中数据出现中间状态，并且这种中间状态的数据不会影响整个系统的可用性。</p> <p>中间态是什么？就是CAP中的不一致，由于节点之间数据同步延迟导致的数据不一致状态。</p> <p><strong>E最终一致性</strong>：系统中的数据虽然有不一致的状态存在，但是经过一段时间后，最终，数据都会达到一致性的状态。</p> <blockquote><p>非关系型数据库：例如 Redis、Mongodb</p></blockquote> <p><a href="https://www.ruanyifeng.com/blog/2018/07/cap.html" target="_blank" rel="noopener noreferrer">CAP 定理的含义 - 阮一峰的网络日志 (ruanyifeng.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://mp.weixin.qq.com/s/kvFrRF4sDV6B7UQdOuWxZA" target="_blank" rel="noopener noreferrer">面试官：ACID、CAP、BASE到底有啥区别？ (qq.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="paxos"><a href="#paxos" class="header-anchor">#</a> Paxos</h2> <p>Paxos算法是莱斯利·兰伯特（英语：Leslie Lamport，LaTeX中的“La”）于1990年提出的一种基于消息传递且具有高度容错特性的共识（consensus）算法。</p> <p>需要注意的是，Paxos常被误称为“一致性算法”。但是“一致性（consistency）”和“共识（consensus）”并不是同一个概念。Paxos是一个共识（consensus）算法。</p> <p>Paxos 算法是 基于消息传递且具有高效容错特性的一致性算法，目前公认的解决分布式一致性问题最有效的算法之一。</p> <p>Paxos 算法主要就是解决如何在一个发生如上故障的分布式系统中，快速正确的在集群内对某个值达成一致，并且保证整个系统的一致性。</p> <p>Paxos 三种角色：</p> <ul><li>倡议者（Proposer）：倡议者可以提出提议（数值或者操作命令）以供投票表决</li> <li>接受者（Acceptor）：接受者可以对倡议者提出的提议进行投票表决，提议有超半数的接受者投票即被选中</li> <li>学习者（Learner）：学习者无投票权，只是从接受者那里获知哪个提议被选中</li></ul> <p>在协议中，每个节点可以同时扮演以上多个角色。</p> <p>Paxos 特点：</p> <ul><li>一个或多个节点可以提出提议</li> <li>系统必须针对所有提案中的某个提案达成一致（超过半数的接受者选中）</li> <li>最多只能对一个确定的提议达成一致</li> <li>只要超半数的节点存活且可互相通信，整个系统一定能达成一致状态，即选择一个确定的提议</li></ul> <p><a href="https://zh.wikipedia.org/wiki/Paxos%E7%AE%97%E6%B3%95" target="_blank" rel="noopener noreferrer">Paxos算法 - 维基百科，自由的百科全书 (wikipedia.org)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.cn/post/6844903621499289613" target="_blank" rel="noopener noreferrer">分布式理论(五) - 一致性算法Paxos (juejin.cn)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.cn/post/6844903445992833037" target="_blank" rel="noopener noreferrer">图解 Paxos 一致性协议 (juejin.cn)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="常见一致性算法"><a href="#常见一致性算法" class="header-anchor">#</a> 常见一致性算法</h2> <h3 id="zab"><a href="#zab" class="header-anchor">#</a> Zab</h3> <p><a href="https://mp.weixin.qq.com/s?__biz=MzkwOTIxNDQ3OA==&amp;mid=2247533392&amp;idx=1&amp;sn=8999e64a05cd06dfa63c0c3ecd3a806f&amp;source=41#wechat_redirect" target="_blank" rel="noopener noreferrer">实例详解ZooKeeper ZAB协议、分布式锁与领导选举 (qq.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="raft"><a href="#raft" class="header-anchor">#</a> Raft</h3> <p><a href="https://juejin.cn/post/6907151199141625870" target="_blank" rel="noopener noreferrer">深度解析 Raft 分布式一致性协议 (juejin.cn)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="分布式常见问题-npc"><a href="#分布式常见问题-npc" class="header-anchor">#</a> 分布式常见问题 NPC</h2> <ul><li>N：Network Delay，网络延迟</li></ul> <p>TCP 虽然保证了传输的可靠性，但是网络延迟是无法避免的</p> <ul><li>P：Process Pause，进程暂停</li></ul> <p>例如 Java 中的 GC （垃圾回收）</p> <ul><li>C：Clock Drift，时钟跳跃</li></ul> <p>使用 NTP 协议将本地设备时间与专门的时间服务器对其，造成的结果是设备的本地时间突然向前或向后跳跃。</p> <h2 id="脑裂问题"><a href="#脑裂问题" class="header-anchor">#</a> 脑裂问题</h2> <p>脑裂问题一般出现在主从模式下（读写分离）的分布式系统中，即原本的一主多从的系统变成多主多从的现象，导致这样的现象出现在主节点故障需要进行重新选主的时候。</p> <blockquote><p>主从模式下的分布式式系统一般都会有一个主节点和多个从节点，主节点负责读写操作，从节点负责读操作，同时主节点接收到的读操作都会同步到从节点中。</p></blockquote> <p><a href="https://juejin.cn/post/6990118444276383781#heading-0" target="_blank" rel="noopener noreferrer">分布式系统的“脑裂”到底是个什么玩意？ (juejin.cn)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.71c4317d.js" defer></script><script src="/blog/assets/js/2.0274c0be.js" defer></script><script src="/blog/assets/js/19.129f344f.js" defer></script>
  </body>
</html>
